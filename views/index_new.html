<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <!-- bootstrap css --->
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <!-- bootstrap css -->
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <!-- google font --->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400" rel="stylesheet">
    <!-- google font end -->

</head>
<body>

<input type="hidden" name="filteredDistrict" id="filteredDistrict">
<input type="hidden" name="filteredTaluk" id="filteredTaluk">
<input type="hidden" name="filteredAcre" id="filteredAcre">
<input type="hidden" name="packages" id="packages">
<input type="hidden" name="data" id="data">
<input type="hidden" name="options" id="options">
<div class="container">
<header>
</header>

<div class="row box-theme">
<div class="nav-bar">
    <div class="col-sm-9 text-left">
        <h1>Project Management Prototype Build</h1>
    </div>
    <div class="col-sm-3">

        <ul class="tab">
            <li><a href="#" class="tablinks" onclick="openCity(event, 'Settings')">Settings</a></li>
            <li><a href="#" class="tablinks" onclick="openCity(event, 'Dashboard')">Dashboard</a></li>
        </ul>
    </div>
</div>


<div id="Settings" class="tabcontent default-active">
<div class="col-sm-3 filter-pan p0">
    <div class="form-group">
        <a href="/jira" class="btn-submit filter-btn">Refresh</a>
    </div>

    <div class="form-group">
        <label for="issuetype" class="control-label col-sm-12 text-left">New Issue Filter :</label>
        <div class="col-sm-8 text-left custom-select">
            <select name="issuetype" class="" id="issuetype" >
                <option value="">-- Select Issue Type --</option>
                {{#data}}
                <option value="{{issuetype}}">{{issuetype}}</option>
                {{/data}}
            </select>
        </div>
        <div class="col-sm-4 pl0">
            <div class="add-filter-btn p0">
                <buton id="filter-Add" class="">Add Filter</buton>
            </div>

        </div>
    </div>

    <div class="form-group">
        <label for="savedFilter" class="control-label col-sm-12 text-left">Saved Filters:</label>
        <div class="col-sm-12 text-left custom-select">
            <select id="savedFilter" class="">
                <option value="">Issue filter 1</option>
                <option value="">Issue filter 2</option>
                <option value="">Issue filter 3</option>
                <option value="">Issue filter 4</option>
            </select>
        </div>
    </div>

    <ol id="filterList" class="filter-List-ul">
    </ol>

    <div class="col-sm-12 mT15">
        <div class=" col-sm-12 add-filter-btn">
            <button>Save Filter</button>
        </div>
    </div>


</div>

<div class="main-content col-sm-9">
<div class="col-sm-12">
<div class="row form-horizontal">
<div class="form-group col-sm-12 mT15">
    <div class="col-sm-8">
        <label for="graph-type" class="control-label col-sm-3 text-left">Graph type:</label>
        <div class="col-sm-3">
            <select id="graph-type" class="form-control">
                <option value="bar">Bar</option>
                <option value="line">Line</option>
                <option value="pie">Pie</option>
            </select>
        </div>
    </div>
</div>
<div class="clear"></div>

<div class="col-sm-12">
    <div class="graph-type-bar graph-container filter-form">
        <form method="post" id="formBarGraph" class="table-form">
            <div class="col-sm-12">
                <label for="graph-title" class="control-label col-sm-2 custom-width">Title:</label>
                <div class="col-sm-5 p0">
                    <input type="text" class="form-control" id="graph-title">
                </div>
            </div>
            <div style="height: 8px" class="col-sm-12"></div>
            <div style="height: 1px" class="col-sm-12"></div>
            <div class="col-sm-6 form-horizontal pR0">

                <div class="form-group">
                    <label for="horizontal-axis-label" class="control-label col-sm-2">x Label:</label>
                    <div class="col-sm-10 p0">
                        <input type="text" class="form-control" id="horizontal-axis-label">
                    </div>
                </div>

                <div class="form-group">
                    <label for="horizontal-data-values" class="control-label col-sm-2">x Values:</label>
                    <div class="col-sm-10 p0">
                        <textarea style="height: 50px" id="horizontal-data-values" class="form-control">Kurnool&#13;&#10;Anantapur&#13;&#10;Vizianagaram</textarea>
                    </div>

                </div>



                <div class="form-group">
                    <label for="horizontal-data-type" class="control-label col-sm-2">x Data:</label>
                    <div class="col-sm-10 p0">
                        <select id="horizontal-data-type" class="form-control">
                            <option value="">District</option>
                            <option value="">Taluk</option>
                            <option value="">No. of Acres</option>
                        </select>
                    </div>
                </div>
            </div>


            <div class="col-sm-6 form-horizontal">


                <div class="form-group">
                    <label for="vertical-data-type" class="control-label col-sm-2">v Data:</label>
                    <div class="col-sm-10 p0">
                        <select id="vertical-data-type" class="form-control">
                            <option value="">No. of Acres</option>
                            <option value="">District</option>
                            <option value="">Taluk</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="vertical-data-values" class="control-label col-sm-2">v Values:</label>
                    <div class="col-sm-10 p0">
                        <textarea style="height: 50px" id="vertical-data-values" class="form-control">50&#13;&#10;100&#13;&#10;150</textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="vertical-axis-label" class="control-label col-sm-2">y Label:</label>
                    <div class="col-sm-10 p0">
                        <input type="text" class="form-control" id="vertical-axis-label">
                    </div>
                </div>

                <div class="form-group add-filter-btn col-sm-5 pull-right">
                    <input type="button" name="btnBarGraph" id="btnBarGraph" value="Create Bar Graph">
                </div>
            </div>
        </form>
    </div>
</div>


<div class="col-sm-12">
    <div class="graph-type-line graph-container filter-form">
        <form method="post" id="formLineGraph" class="table-form">
            <div class="col-sm-12">
                <label for="graph-title-line" class="control-label col-sm-2 custom-width">Title:</label>
                <div class="col-sm-5 p0">
                    <input id="graph-title-line" type="text" class="form-control">
                </div>
            </div>
            <div class="col-sm-12" style="height: 8px;"></div>
            <div class="col-sm-6 form-horizontal pR0">
                <div class="form-group">
                    <label for="horizontal-axis-label" class="control-label col-sm-2">x Label:</label>
                    <div class="col-sm-10 p0">
                        <input id="horizontal-axis-label-line" type="text" class="form-control">
                    </div>
                </div>

                <div class="form-group">
                    <label for="vertical-axis-label-line" class="control-label col-sm-2">y Label:</label>
                    <div class="col-sm-10 p0">
                        <input id="vertical-axis-label-line" type="text" class="form-control">
                    </div>
                </div>

                <div class="form-group">
                    <label for="horizontal-data-type-line" class="control-label col-sm-2">x Data:</label>
                    <div class="col-sm-10 p0">
                        <select class="form-control" id="horizontal-data-type-line">
                            <option value="">District</option>
                            <option value="">Taluk</option>
                            <option value="">No. of Acres</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 form-horizontal">
                <div class="form-group">
                    <label for="horizontal-data-values-line" class="control-label col-sm-2">x Values:</label>
                    <div class="col-sm-10 p0">
                        <textarea style="height: 50px" class="form-control" id="horizontal-data-values-line">Kurnool&#13;&#10;Anantapur&#13;&#10;Vizianagaram</textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="vertical-data-type-line" class="control-label col-sm-2">v Data:</label>
                    <div class="col-sm-10 p0">
                        <select class="form-control" id="vertical-data-type-line">
                            <option value="">No. of Acres</option>
                            <option value="">District</option>
                            <option value="">Taluk</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="vertical-data-values-line" class="control-label col-sm-2">v Values:</label>
                    <div class="col-sm-10 p0">
                        <textarea style="height: 50px" class="form-control" id="vertical-data-values-line">50&#13;&#10;100&#13;&#10;150</textarea>
                    </div>
                </div>
                <div class="form-group add-filter-btn col-sm-5 pull-right">
                    <input type="button" name="btnLineGraph" id="btnLineGraph" value="Create Line Graph">
                </div>
            </div>
        </form>
    </div>

</div>



</div>

<div class="col-sm-12 p0 mT15">
    <div class="col-sm-6 pR0">

        <div class="entries graph-box p0">
            <div>
                <h2>Graphs:</h2>
                <!--<img src="{{imageUrl}}" style="width:345px" >-->
                <div id="divChart"></div>
            </div>
            <div class="col-sm-12 text-center mT15">
                <div class="form-group add-filter-btn col-sm-4 save-graph-btn pull-right">
                    <button name="addToDashboard" id="addToDashboard">Save Graph</button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="entries p0">
            <div>
                <h2>Issues:</h2>

                <ul>
                    <li><a href=""> An improvement or enhancement to an existing feature or task</a></li>
                    <li><a href=""> This is an example issue for jira-connector</a></li>
                    <li><a href=""> Propagate Milestone/Version creation between Jira and GitHub</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
</div>



</div>
</div>

<div id="Dashboard" class="tabcontent">
    <table>
        <tr>
            <td>
                All Issues from JIRA:
                <ul>
                    <li><a href=""> An improvement or enhancement to an existing feature or task</a></li>
                    <li><a href=""> This is an example issue for jira-connector</a></li>
                    <li><a href=""> Propagate Milestone/Version creation between Jira and GitHub</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>

                </ul>
            </td>
        </tr>
    </table>

    <table>
        <tr>
            <td>
                <div style="border: 1px solid #ccc; width: 100%">
                    <img src="http://getwordwall.com/Attachments/Screenshots/Play/bar-graph.png" style="width:345px" >
                </div>
            </td>
            <td style="vertical-align: top"><div style="border: 1px solid #ccc; width: 100%; vertical-align: top">
                Issues:
                <ul>
                    <li><a href=""> An improvement or enhancement to an existing feature or task</a></li>
                    <li><a href=""> This is an example issue for jira-connector</a></li>
                    <li><a href=""> Propagate Milestone/Version creation between Jira and GitHub</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>

                </ul>
            </div></td>

            <td rowspan="3" style="vertical-align: top">
                <div style="border: 1px solid #ccc; width: 100%; vertical-align: top; height: 780px; padding: 10px; font-size: 20px">
                    After click on a particular issue, <br/>
                    then the corresponding JIRA Issue page <br/>
                    will be displayed in this pane...
                </div>
            </td>

        </tr>
        <tr>
            <td>
                <div style="border: 1px solid #ccc; width: 100%">
                    <img src="http://getwordwall.com/Attachments/Screenshots/Play/bar-graph.png" style="width:345px" >
                </div>
            </td>
            <td style="vertical-align: top"><div style="border: 1px solid #ccc; width: 100%; vertical-align: top">
                Issues:
                <ul>
                    <li><a href=""> An improvement or enhancement to an existing feature or task</a></li>
                    <li><a href=""> This is an example issue for jira-connector</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> Propagate Milestone/Version creation between Jira and GitHub</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                </ul>
            </div></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <div style="border: 1px solid #ccc; width: 100%">
                    <img src="http://getwordwall.com/Attachments/Screenshots/Play/bar-graph.png" style="width:345px" >
                </div>
            </td>
            <td style="vertical-align: top"><div style="border: 1px solid #ccc; width: 100%; vertical-align: top">
                Issues:
                <ul>
                    <li><a href=""> An improvement or enhancement to an existing feature or task</a></li>
                    <li><a href=""> This is an example issue for jira-connector</a></li>
                    <li><a href=""> Propagate Milestone/Version creation between Jira and GitHub</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                    <li><a href=""> This issue was once resolved, but the resolution was deemed incorrect.</a></li>
                    <li><a href=""> A problem which impairs or prevents the functions of the product.</a></li>
                </ul>
            </div></td>
            <td style="vertical-align: top">

            </td>
        </tr>
    </table>
</div>
</div>

</div>

<!--- modal --->
<div class="filter-modal item1" id="modal">
    <div class="content">
        <h1>Filter Popup</h1>
        <div class="close">Close</div>
        <ul class="membes-on">
            <li class="district">District</li>
            <li class="taluk">Taluk</li>
            <li class="acres">No. of Acres</li>
        </ul>
        <div class="sub-filter item2">
            <div class="content">
                <h1>Filter Popup</h1>
                <div class="close">back</div>
                <div class="col-sm-12 mT15">
                    <select data-placeholder="Select Districts" name="district" class="chosen-select" multiple  style="width:100%;" id="district" tabindex="4">
                        <option value=""></option>
                        {{#data1}}
                        <option value="{{districts}}">{{districts}}</option>
                        {{/data1}}
                    </select>
                </div>
                <div class="col-sm-12">
                    <div class="add-filter-btn p0 col-sm-5 pull-right pR0 mT15">
                        <button type="button" id="addDistrict">Add this filter</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="sub-filter-taluk item3">
            <div class="content">
                <h1>Filter Popup</h1>
                <div class="close">back</div>
                <div class="col-sm-12 mT15">
                    <select data-placeholder="Select Taluks" name="taluk" class="chosen-select" multiple style="width: 100px;" id="taluk">
                        <option value=""></option>
                        {{#data2}}
                        <option value="{{taluks}}">{{taluks}}</option>
                        {{/data2}}
                    </select>
                </div>

                <div class="col-sm-12">
                    <div class="add-filter-btn p0 col-sm-5 pull-right pR0 mT15">
                        <button type="button" id="addTaluk">Add this filter</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="sub-filter-acres item4">
            <div class="content">
                <h1>Filter Popup</h1>
                <div class="close">back</div>
                <div class="col-sm-12 mT15">
                    <ul class="Acres " style="padding: 0">
                        <select name="acreSymbol" id="acreSymbol">
                            <option value=">">&gt;</option>
                            <option value="<">&lt;</option>
                            <option value="=">=</option>
                        </select>
                        <input type="text" value="" id="acreValue">
                        <button id="addAcreSingle">Add</button>
                        <label id="lblAcreValues"></label>
                    </ul>
                </div>

                <div class="col-sm-12">
                    <div class="add-filter-btn p0 col-sm-5 pull-right pR0 mT15">
                        <button type="button" id="addAcre">Add this filter</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="filter-modal item2" id="modal2">
    <div class="content">
        <h1>Filter Popup</h1>
        <div class="close">Close</div>
        <ul class="membes-on">
            <li class="">District</li>
            <li class="">Taluk</li>
            <li class="">No. of Acres</li>
        </ul>
    </div>
</div>
<!-- modal end -->
</body>
</html>

<style>
    /* Style the list */


    /* Float the list items side by side */
    ul.tab li {float: left;}





    /* Create an active/current tablink class */
    ul.tab li a:focus, .active {background-color: #c61e13;}


    .tree {
        display: none;
    }
    .filter-modal {
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1050;
        overflow: hidden;
        -webkit-overflow-scrolling: touch;
        outline: 0;
        opacity: 1;
        display: none;
    }
    .filter-modal .content {
        background-color: #fefefe;
        margin: auto;
        padding: 20px;
        border: 1px solid #888;
        width: 350px;
        height: auto;
        top: 50%;
        left: 50%;
        margin-top: -100px;
        margin-left: -150px;
        position: fixed;
        box-shadow: 0px 0px 3px -1px rgb(0, 0, 0);
    }
    .filter-modal .content h1 {
        font-size: 16px;
        margin: 0;
        padding: 0 0 5px 0;
        border-bottom: 1px solid rgba(0, 0, 0, 0.3);
        font-weight: normal;
        color: #000;
    }
    .filter-modal ul {
        margin: 5px 0;
        padding: 0;
    }
    .filter-modal ul li {
        list-style: none;
        padding: 3px 0;
    }
    .enable {
        display: block !important;
    }
    .sub-filter, .sub-filter-taluk, .sub-filter-acres {
        position: relative;
        display: none;
        z-index: 1051;
    }
    .btn-grp div {
        float: left;
        min-width: 50px;
        width: auto;
        background: rgb(204, 204, 204);
        padding: 2%;
        border-radius: 5px;
        text-align: center;
        margin-right: 10px;
        cursor: pointer;
    }
    .btn-grp div:hover, .close:hover {
        background: red;
        color: #fff;
        opacity: 10;
    }
    .close {
        width: 50px;
        position: absolute;
        right: 20px;
        top: 12px;
        padding: 5px;
        text-align: center;
        border-radius: 5px;
        cursor: pointer;
        opacity: 10;
        text-shadow: none;
        font-size: 12px;
        background: #c61e13;
        font-weight: normal;
        tansition: background 0.3s;
    }
    .btn-submit {

        text-decoration: none;
        padding: 8px 18px 8px 18px;
        font-size: 16px;
        cursor: pointer;
        float: left;
    }

</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<link rel="stylesheet" href="/css/chosen.min.css">
<script src="/js/chosen.jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
</script>
<script>
$(document).ready(function () {

    $(".chosen-select").chosen({width: "100%"});

    $('#refreshJson').click(function () {
        $(this).after("<img src='/ajax-loader.gif' alt='loading' />");
        $.get('/jira', function () {
        });
    });

    $('#filter-Add').click(function () {
        $('.filter-modal.item1').addClass('enable');
    });

    $('#addDistrict').click(function () {
        var _district = $("#district").val();
        if(_district) {
            var ul = document.getElementById("filterList");
            var li = document.createElement("li");
            li.appendChild(document.createTextNode("District -  " + _district));
            ul.appendChild(li);
            var filteredDistrict = $('#filteredDistrict').val();
            if(filteredDistrict){
                $('#filteredDistrict').val($('#filteredDistrict').val() + ',' + _district);
            } else {
                $('#filteredDistrict').val(_district);
            }

            //Adding Graph X-Data headings - Bar
            if (!$("#horizontal-data-type option[value='District']").length) {
                $('<option>').val('District').text('District').appendTo($('#horizontal-data-type'));
            }

            if (!$("#vertical-data-type option[value='District']").length) {
                $('<option>').val('District').text('District').appendTo($('#vertical-data-type'));
            }

            //Adding Graph Y-Data headings - Line
            if (!$("#horizontal-data-type-line option[value='District']").length) {
                $('<option>').val('District').text('District').appendTo($('#horizontal-data-type-line'));
            }

            if (!$("#vertical-data-type-line option[value='District']").length) {
                $('<option>').val('District').text('District').appendTo($('#vertical-data-type-line'));
            }

            //Adding Graph Y-Data headings - Pie
            if (!$("#data-name-pie option[value='District']").length) {
                $('<option>').val('District').text('District').appendTo($('#data-name-pie'));
            }

            if (!$("#data-value-pie option[value='District']").length) {
                $('<option>').val('District').text('District').appendTo($('#data-value-pie'));
            }


//                      $(".chosen-select").val('').trigger("chosen:updated");
        }
    });

    $('#addTaluk').click(function () {
        var _taluk = $("#taluk").val();
        if(_taluk) {
            var ul = document.getElementById("filterList");
            var li = document.createElement("li");
            li.appendChild(document.createTextNode("Taluk - " + _taluk));
            ul.appendChild(li);
            var filteredTaluk = $('#filteredTaluk').val();
            if(filteredTaluk){
                $('#filteredTaluk').val($('#filteredTaluk').val() + ',' + _taluk);
            } else {
                $('#filteredTaluk').val(_taluk);
            }
            //Adding Graph X-Data headings - Bar
            if (!$("#horizontal-data-type option[value='Taluk']").length) {
                $('<option>').val('Taluk').text('Taluk').appendTo($('#horizontal-data-type'));
            }

            if (!$("#vertical-data-type option[value='Taluk']").length) {
                $('<option>').val('Taluk').text('Taluk').appendTo($('#vertical-data-type'));
            }
            //Adding Graph Y-Data headings - Line
            if (!$("#horizontal-data-type-line option[value='Taluk']").length) {
                $('<option>').val('Taluk').text('Taluk').appendTo($('#horizontal-data-type-line'));
            }

            if (!$("#vertical-data-type-line option[value='Taluk']").length) {
                $('<option>').val('Taluk').text('Taluk').appendTo($('#vertical-data-type-line'));
            }

            //Adding Graph Y-Data headings - Pie
            if (!$("#data-name-pie option[value='Taluk']").length) {
                $('<option>').val('Taluk').text('Taluk').appendTo($('#data-name-pie'));
            }

            if (!$("#data-value-pie option[value='Taluk']").length) {
                $('<option>').val('Taluk').text('Taluk').appendTo($('#data-value-pie'));
            }
//                        $(".chosen-select").val('').trigger("chosen:updated");
        }
    });

    $('#addAcreSingle').click(function () {
        var _acreSymbol = $("#acreSymbol").val();
        var _acreValue = $("#acreValue").val();
        var _acre = _acreSymbol + _acreValue;
        var lblAcreValuesOld = $('#lblAcreValues').text();
        if(lblAcreValuesOld) {
            $('#lblAcreValues').text(lblAcreValuesOld + ',' + _acre);
        } else {
            $('#lblAcreValues').text(_acre);
        }
        $("#acreValue").val("");
    });

    $('#addAcre').click(function () {
        if($('#lblAcreValues').text()) {
            var ul = document.getElementById("filterList");
            var li = document.createElement("li");
            li.appendChild(document.createTextNode("Acre -  " + $('#lblAcreValues').text()));
            ul.appendChild(li);

            var filteredAcre = $('#filteredAcre').val();
            if(filteredAcre){
                $('#filteredAcre').val($('#filteredAcre').val() + ',' + $('#lblAcreValues').text());
            } else {
                $('#filteredAcre').val($('#lblAcreValues').text());
            }
            //Adding Graph X-Data headings
            if (!$("#horizontal-data-type option[value='No. of Acres']").length) {
                $('<option>').val('No. of Acres').text('No. of Acres').appendTo($('#horizontal-data-type'));
            }

            if (!$("#vertical-data-type option[value='No. of Acres']").length) {
                $('<option>').val('No. of Acres').text('No. of Acres').appendTo($('#vertical-data-type'));
            }

            //Adding Graph Y-Data headings
            if (!$("#horizontal-data-type-line option[value='No. of Acres']").length) {
                $('<option>').val('No. of Acres').text('No. of Acres').appendTo($('#horizontal-data-type-line'));
            }

            if (!$("#vertical-data-type-line option[value='No. of Acres']").length) {
                $('<option>').val('No. of Acres').text('No. of Acres').appendTo($('#vertical-data-type-line'));
            }

            //Adding Graph Y-Data headings - Pie
            if (!$("#data-name-pie option[value='No. of Acres']").length) {
                $('<option>').val('No. of Acres').text('No. of Acres').appendTo($('#data-name-pie'));
            }

            if (!$("#data-value-pie option[value='No. of Acres']").length) {
                $('<option>').val('No. of Acres').text('No. of Acres').appendTo($('#data-value-pie'));
            }

            $('#lblAcreValues').text("");
        }
    });
    $('#horizontal-data-type').on('change', function () {
        var selectVal = $("#horizontal-data-type option:selected").val();
        if(selectVal) {
            if (selectVal == 'District') {
                $('#horizontal-data-values').val("");
                $.each($('#filteredDistrict').val().split(','), function(key, value) {
                    $('#horizontal-data-values').val($('#horizontal-data-values').val() + value + "\n");
                });

            } else if (selectVal == 'Taluk') {
                $('#horizontal-data-values').val("");
                $.each($('#filteredTaluk').val().split(','), function(key, value) {
                    $('#horizontal-data-values').val($('#horizontal-data-values').val() + value + "\n");
                });
            } else if (selectVal == 'No. of Acres'){
                $('#horizontal-data-values').val("");
                $.each($('#filteredAcre').val().split(','), function(key, value) {
                    $('#horizontal-data-values').val($('#horizontal-data-values').val() + value + "\n");
                });
            }
        }

    });
    $('#vertical-data-type').on('change', function () {
        var selectVal = $("#vertical-data-type option:selected").val();
        if(selectVal) {
            if (selectVal == 'District') {
                $('#vertical-data-values').val("");
                $.each($('#filteredDistrict').val().split(','), function(key, value) {
                    $('#vertical-data-values').val($('#vertical-data-values').val() + value + "\n");
                });

            } else if (selectVal == 'Taluk') {
                $('#vertical-data-values').val("");
                $.each($('#filteredTaluk').val().split(','), function(key, value) {
                    $('#vertical-data-values').val($('#vertical-data-values').val() + value + "\n");
                });
            } else if (selectVal == 'No. of Acres'){
                $('#vertical-data-values').val("");
                $.each($('#filteredAcre').val().split(','), function(key, value) {
                    $('#vertical-data-values').val($('#vertical-data-values').val() + value + "\n");
                });
            }
        }

    });

    $('#horizontal-data-type-line').on('change', function () {
        var selectVal = $("#horizontal-data-type-line option:selected").val();
        if(selectVal) {
            if (selectVal == 'District') {
                $('#horizontal-data-values-line').val("");
                $.each($('#filteredDistrict').val().split(','), function(key, value) {
                    $('#horizontal-data-values-line').val($('#horizontal-data-values-line').val() + value + "\n");
                });

            } else if (selectVal == 'Taluk') {
                $('#horizontal-data-values-line').val("");
                $.each($('#filteredTaluk').val().split(','), function(key, value) {
                    $('#horizontal-data-values-line').val($('#horizontal-data-values-line').val() + value + "\n");
                });
            } else if (selectVal == 'No. of Acres'){
                $('#horizontal-data-values-line').val("");
                $.each($('#filteredAcre').val().split(','), function(key, value) {
                    $('#horizontal-data-values-line').val($('#horizontal-data-values-line').val() + value + "\n");
                });
            }
        }

    });
    $('#vertical-data-type-line').on('change', function () {
        var selectVal = $("#vertical-data-type-line option:selected").val();
        if(selectVal) {
            if (selectVal == 'District') {
                $('#vertical-data-values-line').val("");
                $.each($('#filteredDistrict').val().split(','), function(key, value) {
                    $('#vertical-data-values-line').val($('#vertical-data-values-line').val() + value + "\n");
                });

            } else if (selectVal == 'Taluk') {
                $('#vertical-data-values-line').val("");
                $.each($('#filteredTaluk').val().split(','), function(key, value) {
                    $('#vertical-data-values-line').val($('#vertical-data-values-line').val() + value + "\n");
                });
            } else if (selectVal == 'No. of Acres'){
                $('#vertical-data-values-line').val("");
                $.each($('#filteredAcre').val().split(','), function(key, value) {
                    $('#vertical-data-values-line').val($('#vertical-data-values-line').val() + value + "\n");
                });
            }
        }

    });

    $('#data-name-pie').on('change', function () {
        var selectVal = $("#data-name-pie option:selected").val();
        if(selectVal) {
            if (selectVal == 'District') {
                $('#data-names-pie').val("");
                $.each($('#filteredDistrict').val().split(','), function(key, value) {
                    $('#data-names-pie').val($('#data-names-pie').val() + value + "\n");
                });

            } else if (selectVal == 'Taluk') {
                $('#data-names-pie').val("");
                $.each($('#filteredTaluk').val().split(','), function(key, value) {
                    $('#data-names-pie').val($('#data-names-pie').val() + value + "\n");
                });
            } else if (selectVal == 'No. of Acres'){
                $('#data-names-pie').val("");
                $.each($('#filteredAcre').val().split(','), function(key, value) {
                    $('#data-names-pie').val($('#data-names-pie').val() + value + "\n");
                });
            }
        }

    });

    $('#data-value-pie').on('change', function () {
        var selectVal = $("#data-value-pie option:selected").val();
        if(selectVal) {
            if (selectVal == 'District') {
                $('#data-values-pie').val("");
                $.each($('#filteredDistrict').val().split(','), function(key, value) {
                    $('#data-values-pie').val($('#data-values-pie').val() + value + "\n");
                });

            } else if (selectVal == 'Taluk') {
                $('#data-values-pie').val("");
                $.each($('#filteredTaluk').val().split(','), function(key, value) {
                    $('#data-values-pie').val($('#data-values-pie').val() + value + "\n");
                });
            } else if (selectVal == 'No. of Acres'){
                $('#data-values-pie').val("");
                $.each($('#filteredAcre').val().split(','), function(key, value) {
                    $('#data-values-pie').val($('#data-values-pie').val() + value + "\n");
                });
            }
        }

    });
});

/*$('.filter-modal').click(function(){
 $(this).parent().children('ul.tree').toggle(300);
 });*/

$('.item1').click(function(){
    $('.filter-modal.item1').addClass('enable');
});
$('.seed').click(function(){
    $('.filter-modal.item2').addClass('enable');
});

$('.district').click(function(){
    $('.sub-filter').addClass('enable');
});
$('.taluk').click(function(){
    $('.sub-filter-taluk').addClass('enable');
});
$('.acres').click(function(){
    $('.sub-filter-acres').addClass('enable')
});

var modal = document.getElementById('modal');
var modal2 = document.getElementById('modal2');

// When the user clicks anywhere outside of the modal, close it
//            window.onclick = function(event) {
//                if (event.target == modal) {
//                    console.log(event.target);
//                    $('.filter-modal.item1').removeClass('enable');
//                    $('.sub-filter, .sub-filter-taluk, .sub-filter-acres').removeClass('enable');
//                }
//            };


$('.close').click(function(){
    $(this).parent().parent().removeClass('enable')
    return false;
});

$('.next').click(function(){
    $(this).closest('.enable').removeClass('enable');
});

$('.add').click(function(){
    $('#modal').removeClass('enable');
    $(this).closest('.enable').removeClass('enable');
    return false;
});

$(function() {
    $('.graph-container').hide();
    $('.graph-type-bar').show();
    $('#graph-type').change(function(){
        if($('#graph-type').val() == 'bar') {
            $('.graph-type-bar').show();
            $('.graph-type-pie').hide();
            $('.graph-type-line').hide();
        } else if($('#graph-type').val() == 'pie') {
            $('.graph-type-pie').show();
            $('.graph-type-bar').hide();
            $('.graph-type-line').hide();
        }else if($('#graph-type').val() == 'line'){
            $('.graph-type-line').show();
            $('.graph-type-bar').hide();
            $('.graph-type-pie').hide();
        }
    });
});

function openCity(evt, cityName) {
    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
        $('.tabcontent').removeClass('default-active');
    }


    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the link that opened the tab
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";
}
</script>


<script>
    $('#formBarGraph').on('click', '#btnBarGraph',  function (e) {
        $.post('/graph/bar', $('#formBarGraph').serialize())
                .done(function (result) {
                    if(result) {
                        google.charts.load('current', {packages: ['corechart', 'bar']});
                        google.charts.setOnLoadCallback(drawBasic);
                        function drawBasic(){
                            var data = google.visualization.arrayToDataTable(result.xDataValues);
                            var options = {
                                title: result.title/*,
                                 chartArea: {width: '60%'}*/,
                                hAxis: {
                                    title: result.xLabel,
                                    minValue: 0
                                },
                                vAxis: {
                                    title: result.yLabel
                                },
                                width: 500,
                                height: 300
                            };
                            var chart = new google.visualization.ColumnChart(document.getElementById('divChart'));
                            chart.draw(data, options);

                            $("#packages").val(JSON.stringify("['corechart', 'bar']"));
                            $("#data").val(JSON.stringify(data));
                            $("#options").val(JSON.stringify(options));
                        }
                    }
                });
    });
</script>


<script>
    $('#formLineGraph').on('click', '#btnLineGraph',  function (e) {
        $.post('/graph/line', $('#formLineGraph').serialize())
                .done(function (result) {
                    if(result) {
                        alert(result.xLabel);
                        google.charts.load('current', {'packages': ['line']});
                        google.charts.setOnLoadCallback(drawChart);

                        function drawChart() {
                            var data = new google.visualization.DataTable();
                            data.addColumn('number', result.xLabel);
                            data.addColumn('number', result.yLabel);
                            //data.addColumn('number', 'Taluk');
                            //data.addColumn('number', 'Area');
                            /*data.addRows([
                             [1,  37.8, 80.8, 41.8],
                             [2,  30.9, 69.5, 32.4],
                             [3,  25.4,   57, 25.7],
                             [4,  11.7, 18.8, 10.5],
                             [5,  11.9, 17.6, 10.4],
                             [6,   8.8, 13.6,  7.7],
                             [7,   7.6, 12.3,  9.6],
                             [8,  12.3, 29.2, 10.6],
                             [9,  16.9, 42.9, 14.8],
                             [10, 12.8, 30.9, 11.6],
                             [11,  5.3,  7.9,  4.7],
                             [12,  6.6,  8.4,  5.2],
                             [13,  4.8,  6.3,  3.6],
                             [14,  4.2,  6.2,  3.4]
                             ]);*/
                            data.addRows(
                                    result.xDataValues);
                            var options = {
                                chart: {
                                    title: result.title
                                    //subtitle: 'in millions of dollars (USD)'
                                },
                                width: 500,
                                height: 300
                            };
                            var chart = new google.charts.Line(document.getElementById('divChart'));
                            chart.draw(data, options);

                            $("#packages").val(JSON.stringify("['line']"));
                            $("#data").val(JSON.stringify(data));
                            $("#options").val(JSON.stringify(options));
                        }
                    }
                });
    });
</script>


<script>
    $('#formPieChart').on('click', '#btnPieChart',  function (e) {
        $.post('/chart/pie', $('#formPieChart').serialize())
                .done(function (result) {
                    if(result) {
                        google.charts.load('current', {'packages': ['corechart']});
                        google.charts.setOnLoadCallback(drawChart);
                        function drawChart() {
                            var data = google.visualization.arrayToDataTable(result.xDataValues);

                            var options = {
                                title: result.title
                            };

                            var chart = new google.visualization.PieChart(document.getElementById('divChart'));

                            chart.draw(data, options);

                            $("#packages").val(JSON.stringify("['corechart']"));
                            $("#data").val(JSON.stringify(data));
                            $("#options").val(JSON.stringify(options));
                        }
                    }
                });
    });
</script>


        <script>
            $('#addToDashboard').click(function() {
                var packages = $("#packages").val();
                var data = $("#data").val();
                var options = $("#options").val();

                $.post('/save/xml', { packages: packages, data: data, options: options })
                .done(function (result) {

                });
            });
        </script>

<script>
    $('#dashboard').click(function() {
        $.get('/getCharts', function (result) {
            if(result){
               parser = new DOMParser();
                var xmlDoc = parser.parseFromString(result,"text/xml");
                alert(xmlDoc);
                /*var x = xmlDoc.documentElement.childNodes['charts'];
                var y = x.childNodes;
                alert(y);
                for (i = 0; i < x.length ;i++) {
                    var txt = x[i].nodeName + ": " + x[i].childNodes[0].nodeValue;
                    alert(txt);
                }*/

                var charts = xmlDoc.getElementsByTagName("charts"); //outputs array of charts
                alert(charts);

                for (var chartsIndex = 0; chartsIndex  < charts.length; chartsIndex++) {
                    var chartsDetails = charts[chartsIndex].children; //outputs array of details

                    for (var detailIndex = 0; detailIndex < chartsDetails.length; detailIndex++) {alert(detailIndex);
                        //document.write(employees[employeeIndex].childNodes[detailIndex].nodeValue);
                        alert(charts[chartsIndex].childNodes[detailIndex].nodeValue);
                    }

                    //document.write("<br>");
                }

                //document.getElementById("demo").innerHTML = txt;
            }
        });
    });
</script>

<script>
    $('#addToDashboard').click(function() {alert('dashboard click')
        /*xmlData=new ActiveXObject("Microsoft.XMLDOM");
         xmlData.async="false";
         xmlData.loadXML("db.xml");

         var strRte = "DenverToAtlanta";
         var strMi = "1408";

         var newRoute = xmlData.documentElement.createElement("Routes");
         var nameNode = xmlData.documentElement.createElement("RouteName");
         var nameText =xmlData.documentElement.createTextNode(strRte);
         nameNode.appendChild(nameText)
         var milesNode = xmlData.documentElement.createElement("Miles");
         var milesText = xmlData.documentElement.createTextNode(strMi);
         milesNode.appendChild(milesText);
         newRoute.appendChild(nameNode);
         newRoute.appendChild(milesNode);
         xmlData.appendChild(newRoute);*/
    });
</script>

